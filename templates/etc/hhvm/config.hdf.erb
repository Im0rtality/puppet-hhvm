PidFile = /var/run/hhvm/hhvm.pid
Server {
	Port = <%= scope.lookupvar('hhvm::params::port') %>
	SourceRoot = <%= scope.lookupvar('hhvm::sourceroot') %>
	DefaultDocument = index.php
	#ThreadCount = 50
	APC {
		EnableApc = true
	}
}
AdminServer {
	Port = 9088
	ThreadCount = 1
	Password = <%= scope.lookupvar('hhvm::adminpassword') %>
}
Eval {
	Jit = true
	JitWarmupRequests = 5
}
Log {
	NoSilencer = false # Don't log silenced errors
	Header = true
	Level = Error
	UseLogFile = true
	AlwaysLogUnhandledExceptions = true
	RuntimeErrorReportingLevel = 8191
	File = /var/log/hhvm/error.log
	Access {
		* {
			File = /var/log/hhvm/access.log
			Format = %h %l %u %t \"%r\" %>s %b
		}
	}
}
VirtualHost {
	* {
		Pattern = .*
		RewriteRules {
      		js {
	        pattern = js/index.php/.*
	        to = js/index.php
	        qsa = true
	      }
	      default {
	        pattern = .*
	        to = index.php
	        qsa = true
	      }
    	}
	}
}
 
StaticFile {
	FilesMatch {
		* {
			pattern = .*\.(dll|exe)
			headers {
			* = Content-Disposition: attachment
			}
		}
	}
		
	Extensions {
		woff = application/x-font-woff
		js = text/javascript
		css = text/css
		gif = image/gif
		html = text/html
		jpe = image/jpeg
		jpeg = image/jpeg
		jpg = image/jpeg
		png = image/png
		tif = image/tiff
		tiff = image/tiff
		txt = text/plain
	}
}
Eval.Debugger {
    EnableDebugger = false                                          
    EnableDebuggerServer = false
    Port = 9089
    DefaultSandboxPath = <%= scope.lookupvar('hhvm::sourceroot') %>
}